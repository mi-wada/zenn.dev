---
title: "global installã—ãŸNode.jsè£½CLIã‚’GitHub Actionsã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹"
emoji: "ğŸ¦"
type: "tech"
topics:
  - "github"
  - "nodejs"
  - "npm"
  - "githubactions"
  - "node"
published: true
published_at: "2023-09-18 18:55"
---

## çµŒç·¯

[`markdownlint-cli`](https://github.com/igorshubovych/markdownlint-cli)ã‚„[`spectral-cli`](https://github.com/stoplightio/spectral)ãªã©ã®ã€npmã‚„yarnç­‰çµŒç”±ã§ã—ã‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„CLIã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãŸã‹ã£ãŸã€‚

## çµè«–

`markdownlint`ã‚’cacheã—ã¦å®Ÿè¡Œã™ã‚‹ä¾‹ã‚’ç¤ºã™ã€‚
ä»–ã®CLIã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãŸã„å ´åˆã¯`markdownlint`ã‚„`markdownlint-cli`ã¨ãªã£ã¦ã„ã‚‹ã¨ã“ã‚ã‚’packageã«åˆã‚ã›ã¦å¤‰ãˆã‚Œã°è‰¯ã„ã€‚

```yml
# .github/workflows/lint.yml

# START: é–¢ä¿‚ãªã„
name: Lint
on:
  push:
    branches:
      - main
  pull_request:
permissions:
  contents: read
  pull-requests: write
# END: é–¢ä¿‚ãªã„
jobs:
  markdown-lint:
    runs-on: ubuntu-latest
    env:
      MARKDOWNLINT_CLI_VERSION: 0.36.0
    steps:
      - uses: actions/checkout@v4
      - name: Cache markdownlint-cli
        id: cache-markdownlint-cli
        uses: actions/cache@v3
        with:
          path: |
	    # ã‚³ãƒãƒ³ãƒ‰åæ¯ã«å¤‰ãˆã‚‹ `/usr/local/bin/{command_name}`
            /usr/local/bin/markdownlint
	    # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åæ¯ã«å¤‰ãˆã‚‹ `/usr/local/lib/node_modules/{package_name}`
            /usr/local/lib/node_modules/markdownlint-cli
          key: ${{ runner.os }}-markdonwlint-cli-${{ env.MARKDOWNLINT_CLI_VERSION }}
      - if: steps.cache-markdownlint-cli.outputs.cache-hit != 'true'
        name: Install markdownlint-cli
        run: npm install -g markdownlint-cli@${{ env.MARKDOWNLINT_CLI_VERSION }}
      - run: markdownlint --config .markdownlint.yml '**/*.md'
```
